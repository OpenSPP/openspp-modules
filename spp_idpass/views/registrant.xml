<?xml version="1.0" encoding="utf-8" ?>
<odoo>
    <record id="view_individuals_idpass_form" model="ir.ui.view">
        <field name="name">view_individuals_idpass_form</field>
        <field name="model">res.partner</field>
        <field name="inherit_id" ref="g2p_registry_individual.view_individuals_form" />
        <field name="arch" type="xml">
            <xpath expr="//div[@name='button_box']" position="after">
              <div
                    class="alert alert-info text-center o_form_header"
                    role="alert"
                    attrs="{'invisible':[('id_pdf_filename','=', False)]}"
                >
                  <a class="close" data-dismiss="alert" href="#">x</a>
                  <div>
                    ID Pass has been Generated: <strong><field name="id_pdf" readonly="1" /></strong>
                  </div>
              </div>
            </xpath>
            <xpath expr="//div[@name='button_box']" position="inside">
              <button type="object" class="oe_stat_button" icon="fa-id-card " name="open_issue_idpass_wiz">
                      <div class="o_form_field o_stat_info">
                          <span class="o_stat_text">Issue</span>
                      </div>
              </button>
            </xpath>

            <xpath expr="//field[@name='email']" position="after">
              <field name="id_pdf" id="id_pdf" string="ID PASS Card" filename="id_pdf_filename" />
              <field name="id_pdf_filename" invisible="1" />
              <field name="image_1920_filename" invisible="1" />
            </xpath>
            <xpath expr="//field[@name='image_1920']" position="attributes">
              <attribute name="filename">image_1920_filename</attribute>
            </xpath>
        </field>
    </record>

    <record id="view_groups_idpass_form" model="ir.ui.view">
        <field name="name">view_groups_form</field>
        <field name="model">res.partner</field>
        <field name="inherit_id" ref="g2p_registry_group.view_groups_form" />
        <field name="arch" type="xml">
            <xpath expr="//div[@name='button_box']" position="after">
              <div
                    class="alert alert-info text-center o_form_header"
                    role="alert"
                    attrs="{'invisible':[('id_pdf_filename','=', False)]}"
                >
                  <a class="close" data-dismiss="alert" href="#">x</a>
                  <div>
                    ID Pass has been Generated: <strong><field name="id_pdf" readonly="1" /></strong>
                  </div>
              </div>
            </xpath>
            <xpath expr="//div[@name='button_box']" position="inside">
              <button type="object" class="oe_stat_button" icon="fa-id-card " name="open_issue_idpass_wiz">
                      <div class="o_form_field o_stat_info">
                          <span class="o_stat_text">Issue</span>
                      </div>
              </button>
            </xpath>

            <xpath expr="//field[@name='email']" position="after">
              <field name="id_pdf" id="id_pdf" string="ID PASS Card" filename="id_pdf_filename" />
              <field name="id_pdf_filename" invisible="1" />
            </xpath>

            <xpath expr="//field[@name='reg_ids']/tree[1]" position="inside">
              <field name="is_pds" invisible="1" />
              <button
                    name="open_set_pin_wiz"
                    type="object"
                    icon="fa-key"
                    class="btn-info"
                    attrs="{'invisible':[('is_pds','=', False)]}"
                />
            </xpath>
        </field>
    </record>

    <record id="group_list_filter" model="ir.ui.view">
        <field name="name">group_list_filter</field>
        <field name="model">res.partner</field>
        <field name="priority" eval="1" />
        <field name="arch" type="xml">
            <search string="Search Group">
                <field name="name" />
                <field name="pds_number" />
                <filter string="PDS Number" name="with_pds" domain="[('with_pds', '=', True)]" />
            </search>
        </field>
    </record>

    <record id="g2p_registry_group.action_groups_list" model="ir.actions.act_window">
        <field name="search_view_id" ref="group_list_filter" />
    </record>


</odoo>
